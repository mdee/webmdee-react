{"version":3,"sources":["campaign-data.gif","reviewsage.gif","recording.gif","Dashboard.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","chartTimeFormat","d3TimeFormat","Dashboard","addDollarSign","spendRange","spendRangeSplit","split","length","secondSplit","useStyles","makeStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","formControl","margin","minWidth","selectEmpty","marginTop","menuButton","marginRight","title","drawer","width","pickerTimeFormat","initialDateString","Date","spendRanges","adTypes","adSpendImpressionRangeColorScale","d3Scale","domain","range","d3ScaleChromatic","adTypeColorScale","useState","presidentialCampaigns","setPresidentialCampaigns","presidentialCampaign","setPresidentialCampaign","startDate","setStartDate","endDate","setEndDate","minDate","setMinDate","maxDate","setMaxDate","showSpendRanges","setShowSpendRanges","showImpressionRanges","setShowImpressionRanges","showAdTypes","setShowAdTypes","barSize","setBarSize","adType","setAdType","ads","setAds","adDetailsPage","setAdDetailsPage","fetchIndividualDonations","setFetchIndividualDonations","fetchAdDetails","setFetchAdDetails","snackbarOpen","setSnackbarOpen","drawerOpen","setDrawerOpen","helpDialogOpen","setHelpDialogOpen","dateAdStackedBars","setDateAdStackedBars","donationDataStackedBars","setDonationDataStackedBars","invalidBarSize","setInvalidBarSize","noDonations","setNoDonations","loading","setLoading","handleSnackbarClose","event","reason","rowsPerPage","setRowsPerPage","memoizedUrlParameters","useCallback","urlParams","fetchData","axios","get","then","chartDates","data","map","date","index","d","dateString","spend_ranges","forEach","sr","label","count","impressions_ranges","ir","ad_types","at","noDonationsFound","donationData","donations","a","spend_range","start_date","end_date","useEffect","Promise","allSettled","result","campaignData","value","dateData","min_date","max_date","toggleDrawer","type","key","classes","handleHelpDialogClose","className","AppBar","position","Toolbar","IconButton","edge","aria-label","onClick","onKeyDown","Typography","variant","Link","component","RouterLink","to","LinearProgress","Drawer","open","onClose","FormControl","InputLabel","id","Select","labelId","disabled","e","target","onBlur","MenuItem","campaign","name","utils","MomentUtils","disableToolbar","format","onChange","_d","KeyboardButtonProps","FormControlLabel","control","Checkbox","checked","Button","Divider","TextField","error","newBarSize","helperText","InputLabelProps","shrink","Dialog","fullWidth","maxWidth","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Grid","container","item","xs","style","sm","aspect","top","right","left","bottom","strokeDasharray","dataKey","angle","textAnchor","stackId","stroke","fill","Alert","severity","TableContainer","Paper","Table","table","size","TableHead","TableRow","TableCell","TableBody","slice","ad","scope","impressions_range","href","link","rel","ad_type","TableFooter","TablePagination","rowsPerPageOptions","page","onChangePage","newPage","onChangeRowsPerPage","parseInt","Snackbar","autoHideDuration","App","basename","hashType","path","elevation","role","src","campaignDataGif","display","height","alt","reviewSageGif","textDecoration","interactGif","fontWeight","dataSource","sourceType","screenName","options","username","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.10601e5e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/campaign-data.9cc1d394.gif\";","module.exports = __webpack_public_path__ + \"static/media/reviewsage.e80803b4.gif\";","module.exports = __webpack_public_path__ + \"static/media/recording.62d46780.gif\";","import React, { useState, useEffect, useCallback} from 'react'\nimport axios from 'axios';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LinearProgress, DialogTitle, DialogActions, DialogContent, DialogContentText, Dialog, TextField, Link, Drawer, AppBar, Toolbar, IconButton, Typography, Paper, Grid, InputLabel, MenuItem, FormControl, Select, FormControlLabel, Checkbox, TableContainer, TableCell, TableHead, TableBody, TableRow, Table, Button, TableFooter, TablePagination, Snackbar } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MomentUtils from '@date-io/moment';\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from '@material-ui/pickers';\nimport Alert from '@material-ui/lab/Alert';\nimport {  Link as RouterLink } from 'react-router-dom';\nimport HelpIcon from '@material-ui/icons/Help';\n\n\nimport {\n  CartesianGrid,\n  XAxis,\n  Label,\n  YAxis,\n  Tooltip,\n  Legend,\n  BarChart,\n  Bar,\n  ResponsiveContainer,\n  Area,\n  ComposedChart,\n} from \"recharts\";\nimport * as d3TimeFormat from 'd3-time-format';\nimport * as d3ScaleChromatic from 'd3-scale-chromatic';\nimport * as d3Scale from 'd3-scale';\nimport Divider from \"@material-ui/core/Divider\";\n\n// Display format function for dates\nconst chartTimeFormat = d3TimeFormat.timeFormat('%m/%d/%y');\n\nconst Dashboard = () => {\n\n  function addDollarSign(spendRange) {\n    const spendRangeSplit = spendRange.split('-');\n    if (spendRangeSplit.length === 1) {\n      // Split it on space, and a dollar sign\n      const secondSplit = spendRangeSplit[0].split(' ');\n      return `${secondSplit[0]} $${secondSplit[1]}`;\n    } else {\n      return `$${spendRangeSplit[0]}-$${spendRangeSplit[1]}`;\n    }\n  }\n\n  const useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n    },\n    formControl: {\n      margin: theme.spacing(1),\n      minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n    drawer: {\n      width: 250\n    }\n  }));\n\n  const defaultLoadedCampaignName = 'BERNIE 2020';\n  const pickerTimeFormat = d3TimeFormat.timeFormat('%Y-%m-%d');\n  const initialDateString = pickerTimeFormat(new Date());\n  const spendRanges = ['≤ $100', '$100-$1k', '$1k-$50k', '$50k-$100k', '> $100k'];\n  const impressionRanges = ['≤ 10k', '100k-1M', '10k-100k', '1M-10M', '> 10M'];\n  const adTypes = ['Image', 'Text', 'Video'];\n  // Default to loading the previous 2 months of data\n  const monthDelta = 2;\n\n  // Color scale for the ad spend + impression ranges\n  let adSpendImpressionRangeColorScale = d3Scale.scaleOrdinal()\n    .domain(spendRanges).range(d3ScaleChromatic.schemeCategory10);\n  // Color scale fo the ad type area chart\n  let adTypeColorScale = d3Scale.scaleOrdinal()\n    .domain(adTypes).range(d3ScaleChromatic.schemeAccent);\n\n  // Hook, hook, where's the hook!?\n  // This is all presidential campaigns\n  const [presidentialCampaigns, setPresidentialCampaigns] = useState([]);\n  // User selected presidential campaign\n  const [presidentialCampaign, setPresidentialCampaign] = useState('');\n  // User controlled date range\n  const [startDate, setStartDate] = useState(initialDateString);\n  const [endDate, setEndDate] = useState(initialDateString);\n  // These are used to limit date choices on the inputs\n  const [minDate, setMinDate] = useState('');\n  const [maxDate, setMaxDate] = useState('');\n  // Boolean to show the spend range of ads (as bars)\n  const [showSpendRanges, setShowSpendRanges] = useState(true);\n  // Boolean to show the impression range of ads (as bars)\n  const [showImpressionRanges, setShowImpressionRanges] = useState(false);\n  // Boolean to show ad types (as area)\n  const [showAdTypes, setShowAdTypes] = useState(true);\n  // User-controlled width of bars in bar charts\n  const [barSize, setBarSize] = useState(4);\n  // User selected ad type to display on chart\n  const [adType, setAdType] = useState('');\n  // Ads fetched from Django vv\n  const [ads, setAds] = useState([]);\n  // Current \"page\" of ads to display on details table\n  const [adDetailsPage, setAdDetailsPage] = useState(0);\n  // Boolean to retrieve individual donation data from FEC records\n  const [fetchIndividualDonations, setFetchIndividualDonations] = useState(true);\n  // Boolean to also retrieve ad details for details table\n  const [fetchAdDetails, setFetchAdDetails] = useState(true);\n  // Boolean to control if the success snack bar is shown after fetching data\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  // Boolean to control if the side drawer is open\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  // Boolean to control if the help dialog is displayed\n  const [helpDialogOpen, setHelpDialogOpen] = useState(false);\n  // Array of data to display on the leftmost chart\n  const [dateAdStackedBars, setDateAdStackedBars] = useState([]);\n  // Array of data to display on the rightmost chart\n  const [donationDataStackedBars, setDonationDataStackedBars] = useState(null);\n  // Boolean to indicate that the user has tried to set a bar size that doesn't work, and to show an error msg\n  const [invalidBarSize, setInvalidBarSize] = useState(false);\n  const [noDonations, setNoDonations] = useState(true);\n  const [loading, setLoading] = useState(true);\n\n\n  const handleTableChangePage = (event, newPage) => {\n    setAdDetailsPage(newPage);\n  };\n\n  const handleSnackbarClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackbarOpen(false);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setAdDetailsPage(0);\n  };\n\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n\n  function validateBarSize(newBarSize) {\n    if (newBarSize < 1 || newBarSize > 13) {\n      setInvalidBarSize(true);\n    } else {\n      setInvalidBarSize(false);\n      setBarSize(newBarSize);\n    }\n  }\n\n  const memoizedUrlParameters = useCallback(\n    () => {\n      let urlParams = `campaign_name=${presidentialCampaign}&start_date=${startDate}&end_date=${endDate}`;\n      if (adType !== '') {\n        urlParams += `&ad_type=${adType}`;\n      }\n      return urlParams;\n    }, [presidentialCampaign, startDate, endDate, adType]);\n\n  function fetchData() {\n    setLoading(true);\n    const urlParams = memoizedUrlParameters();\n    axios.get('http://bernie-ads-backend.herokuapp.com/api/date_ads_metadata/?'+urlParams).then(({ data: adDateData }) => {\n      const chartDates = adDateData.map((date, index) => {\n        let d = {dateString: chartTimeFormat(new Date(date.date))};\n        date.spend_ranges.forEach(sr => {\n          d[addDollarSign(sr.label)] = sr.count;\n        });\n        date.impressions_ranges.forEach(ir => {\n          d[ir.label] = ir.count;\n        });\n        date.ad_types.forEach(at => {\n          d[at.label] = at.count;\n        });\n        return d;\n      });\n      setDateAdStackedBars(chartDates);\n      setSnackbarOpen(true);\n      setDrawerOpen(false);\n      setLoading(false);\n    });\n    if (fetchIndividualDonations) {\n      let noDonationsFound = true;\n      axios.get('http://bernie-ads-backend.herokuapp.com/api/date_donations_metadata/?'+urlParams).then(({ data }) => {\n        const donationData = data.map((d) => {\n          if (d.count > 0) {\n            noDonationsFound = false;\n          }\n          return {dateString: chartTimeFormat(new Date(d.date)), donations: d.count};\n        });\n        setDonationDataStackedBars(donationData);\n        setNoDonations(noDonationsFound);\n      });\n    }\n    if (fetchAdDetails) {\n      axios.get('http://bernie-ads-backend.herokuapp.com/api/ads/?'+urlParams).then(({ data: ads }) => {\n        ads.forEach((a) => {\n          a.spend_range = addDollarSign(a.spend_range);\n          a.start_date = chartTimeFormat(new Date(a.start_date));\n          a.end_date = chartTimeFormat(new Date(a.end_date));\n        });\n        setAds(ads);\n      });\n    }\n  }\n\n  useEffect(() => {\n    // Fetch all presidential campaigns\n    const urlParams = `?month_delta=${monthDelta}`;\n    Promise.allSettled([\n      axios.get('http://bernie-ads-backend.herokuapp.com/api/campaigns/'),\n      axios.get('http://bernie-ads-backend.herokuapp.com/api/date_extent/' + urlParams)\n    ]).then((result) => {\n      const campaignData = result[0].value.data;\n      const dateData = result[1].value.data;\n      setPresidentialCampaigns(campaignData);\n      setPresidentialCampaign(defaultLoadedCampaignName);\n      setMinDate(dateData.min_date);\n      setMaxDate(dateData.max_date);\n      setEndDate(dateData.max_date);\n      setStartDate(dateData.start_date);\n      let urlParams = `campaign_name=${defaultLoadedCampaignName}&start_date=${dateData.start_date}&end_date=${dateData.max_date}`;\n\n      axios.get('http://bernie-ads-backend.herokuapp.com/api/date_ads_metadata/?'+urlParams).then(({ data: adDateData }) => {\n        const chartDates = adDateData.map((date, index) => {\n          let d = {dateString: chartTimeFormat(new Date(date.date))};\n          date.spend_ranges.forEach(sr => {\n            d[addDollarSign(sr.label)] = sr.count;\n          });\n          date.impressions_ranges.forEach(ir => {\n            d[ir.label] = ir.count;\n          });\n          date.ad_types.forEach(at => {\n            d[at.label] = at.count;\n          });\n          return d;\n        });\n        setDateAdStackedBars(chartDates);\n        setSnackbarOpen(true);\n        setDrawerOpen(false);\n        setLoading(false);\n      });\n      let noDonationsFound = true;\n      axios.get('http://bernie-ads-backend.herokuapp.com/api/date_donations_metadata/?'+urlParams).then(({ data }) => {\n        const donationData = data.map((d) => {\n          if (d.count) {\n            noDonationsFound = false;\n          }\n          return {dateString: chartTimeFormat(new Date(d.date)), donations: d.count};\n        });\n        setNoDonations(noDonationsFound);\n        setDonationDataStackedBars(donationData);\n      });\n      axios.get('http://bernie-ads-backend.herokuapp.com/api/ads/?'+urlParams).then(({ data: ads }) => {\n        ads.forEach((a) => {\n          a.spend_range = addDollarSign(a.spend_range);\n          a.start_date = chartTimeFormat(new Date(a.start_date));\n          a.end_date = chartTimeFormat(new Date(a.end_date));\n        });\n        setAds(ads);\n      });\n\n    });\n  },[]);\n\n  const toggleDrawer = () => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    setDrawerOpen(!drawerOpen);\n  };\n\n  const classes = useStyles();\n\n  const sideBar = () => (\n    <div className={classes.drawer}>\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"presidential-campaign\">Presidential Campaign</InputLabel>\n        <Select\n          labelId=\"presidential-campaign\"\n          value={presidentialCampaign}\n          disabled={!presidentialCampaigns.length}\n          onClick={(e) => setPresidentialCampaign(e.target.value)}\n          onBlur={(e) => setPresidentialCampaign(e.target.value)}\n        >\n          <MenuItem/>\n          {presidentialCampaigns.map(campaign => (\n            <MenuItem key={campaign.name} value={campaign.name}>\n              {campaign.name}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n          <KeyboardDatePicker\n            disableToolbar\n            variant=\"inline\"\n            format=\"MM/DD/YY\"\n            label=\"Start Date\"\n            id=\"start-date-picker-inline\"\n            margin=\"normal\"\n            value={startDate}\n            onChange={(d) => { setStartDate(pickerTimeFormat(d._d)) }}\n            minDate={minDate}\n            maxDate={maxDate}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n        </MuiPickersUtilsProvider>\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n          <KeyboardDatePicker\n            disableToolbar\n            variant=\"inline\"\n            format=\"MM/DD/YY\"\n            margin=\"normal\"\n            id=\"end-date-picker-inline\"\n            label=\"End Date\"\n            value={endDate}\n            onChange={(d) => { setEndDate(pickerTimeFormat(d._d)) }}\n            minDate={minDate}\n            maxDate={maxDate}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n        </MuiPickersUtilsProvider>\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"ad-type\">Ad Type</InputLabel>\n        <Select\n          labelId=\"ad-type\"\n          value={adType}\n          disabled={!adTypes.length}\n          onClick={(e) => setAdType(e.target.value)}\n          onChange={(e) => setAdType(e.target.value)}\n          onBlur={(e) => setAdType(e.target.value)}\n        >\n          <MenuItem value=\"\"/>\n          {adTypes.map(adType => (\n            <MenuItem key={adType} value={adType}>\n              {adType}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={fetchIndividualDonations}\n              onClick={(e) => setFetchIndividualDonations(e.target.checked)}\n              onChange={(e) => setFetchIndividualDonations(e.target.checked)}\n              onBlur={(e) => setFetchIndividualDonations(e.target.checked)}\n              color=\"primary\"\n            />\n          }\n          label=\"Retrieve Individual Donations\"\n        />\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={fetchAdDetails}\n              onClick={(e) => setFetchAdDetails(e.target.checked)}\n              onChange={(e) => setFetchAdDetails(e.target.checked)}\n              onBlur={(e) => setFetchAdDetails(e.target.checked)}\n              color=\"primary\"\n            />\n          }\n          label=\"Retrieve Ad Details\"\n        />\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={fetchData}\n          disabled={!presidentialCampaigns.length}\n        >\n          Submit\n        </Button>\n      </FormControl>\n      <Divider />\n\n      <FormControl className={classes.formControl}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={showSpendRanges}\n              onClick={(e) => setShowSpendRanges(e.target.checked)}\n              onChange={(e) => setShowSpendRanges(e.target.checked)}\n              onBlur={(e) => setShowSpendRanges(e.target.checked)}\n              color=\"primary\"\n            />\n          }\n          label=\"Show Ad Spend\"\n        />\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={showAdTypes}\n              onClick={(e) => setShowAdTypes(e.target.checked)}\n              onChange={(e) => setShowAdTypes(e.target.checked)}\n              onBlur={(e) => setShowAdTypes(e.target.checked)}\n              color=\"primary\"\n            />\n          }\n          label=\"Show Ad Types\"\n        />\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={showImpressionRanges}\n              onClick={(e) => setShowImpressionRanges(e.target.checked)}\n              onChange={(e) => setShowImpressionRanges(e.target.checked)}\n              onBlur={(e) => setShowImpressionRanges(e.target.checked)}\n              color=\"primary\"\n            />\n          }\n          label=\"Show Ad Impressions\"\n        />\n      </FormControl>\n      <FormControl className={classes.formControl}>\n        <TextField\n          id=\"chart-bar-width\"\n          label=\"Chart Bar Width\"\n          type=\"number\"\n          error={invalidBarSize}\n          value={barSize}\n          onChange={e => validateBarSize(+e.target.value)}\n          helperText=\"Bar width must be in the range [1, 13]\"\n          InputLabelProps={{\n            shrink: true,\n          }}\n        />\n      </FormControl>\n    </div>\n  );\n\n  function handleHelpDialogClose() {\n    setHelpDialogOpen(false);\n  }\n  function handleHelpDialogOpen() {\n    setHelpDialogOpen(true);\n  }\n\n  const helpDialog = () => (\n    <Dialog\n      fullWidth={true}\n      maxWidth=\"sm\"\n      open={helpDialogOpen}\n      onClose={handleHelpDialogClose}\n      aria-labelledby=\"help-dialog-title\"\n    >\n      <DialogTitle id=\"help-dialog-title\">Ads + Donation Data Tool</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          This tool allows you to visualize publicly available data for several 2020 presidential candidates.\n          <p>You can see how many\n            online ad campaigns each candidate has run on Google over the past several months, each one's price range, impressions target, and ad type (such as text or video).</p>\n          FEC data for individual donations can also be retrieved through Q3 2019. Simply click <MenuIcon/> up top to begin exploring the data!\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleHelpDialogClose} color=\"primary\">\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n\n  return (\n    <div className=\"dashboard\">\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={toggleDrawer()}\n            onKeyDown={toggleDrawer()}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\">\n            <Link component={RouterLink} to=\"/\" color=\"inherit\">WebMDee.com</Link>\n          </Typography>\n\n        </Toolbar>\n      </AppBar>\n      { loading ? <LinearProgress /> : ''}\n      <Drawer open={drawerOpen} onClose={toggleDrawer()}>\n        {sideBar()}\n      </Drawer>\n      {helpDialog()}\n      <Grid container>\n        <Grid item xs={2}/>\n        <Grid item xs={8}>\n          <div style={{textAlign: \"center\", margin: \"10px 0 10px 0\"}}>\n            <Typography variant=\"h6\" className={classes.title}>{presidentialCampaign} Ads + Donation Data Tool</Typography>\n          </div>\n        </Grid>\n        <Grid item xs={2}>\n          <div style={{textAlign: \"right\"}}>\n            <IconButton color=\"primary\" onClick={handleHelpDialogOpen}>\n              <HelpIcon/>\n            </IconButton>\n          </div>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          {!dateAdStackedBars.length ? (\n            <div>\n              <Alert severity=\"info\">Click \"Submit\" in order to retrieve Google Ads data for the {presidentialCampaign} campaign.</Alert>\n            </div>\n          ) : (\n            <ResponsiveContainer width=\"100%\" aspect={1.5}>\n              <ComposedChart\n                data={dateAdStackedBars}\n                margin={{\n                  top: 20, right: 30, left: 20, bottom: 5,\n                }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <Tooltip />\n                <Legend />\n                <XAxis dataKey=\"dateString\" type=\"category\"/>\n                <YAxis\n                  type=\"number\"\n                >\n                  <Label\n                    value=\"Number Of Ad Campaigns\"\n                    position=\"insideLeft\"\n                    angle={-90}\n                    style={{ textAnchor: 'middle' }}\n                  />\n                </YAxis>\n                {\n                  showAdTypes ? adTypes.map(at => {\n                      return <Area angle={45} textAnchor=\"end\" dataKey={at} stackId=\"ad-type\" type=\"monotone\" key={at} stroke={adTypeColorScale(at)} fill={adTypeColorScale(at)}/>})\n                    : ''\n                }\n                {\n                  showSpendRanges ? spendRanges.map(sr => {\n                    return <Bar dataKey={sr} stackId=\"spend\" key={sr} stroke=\"lightGray\" fill={adSpendImpressionRangeColorScale(sr)} barSize={barSize}/>\n                  }) : ''\n                }\n                {\n                  showImpressionRanges ? impressionRanges.map(ir => {\n                    return <Bar dataKey={ir} stackId=\"impressions\" key={ir} stroke=\"lightGray\" fill={adSpendImpressionRangeColorScale(ir)} barSize={barSize}/>\n                  }) : ''\n                }\n              </ComposedChart>\n            </ResponsiveContainer>\n            )\n          }\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          {\n            donationDataStackedBars === null || !fetchIndividualDonations ?\n              (\n                <div>\n                  <Alert severity=\"info\">Check \"Retrieve Individual Donations\" in order to retrieve FEC donation data from individuals for the {presidentialCampaign} campaign.</Alert>\n                </div>\n              )\n              :\n              (\n                fetchIndividualDonations && noDonations ?\n                  (\n                    <Alert severity=\"info\">No data for individual donations to the {presidentialCampaign} campaign from {chartTimeFormat(new Date(startDate))} - {chartTimeFormat(new Date(endDate))}.</Alert>\n                  )\n                  :\n                  (\n                    <ResponsiveContainer width=\"100%\" aspect={1.5}>\n                      <BarChart\n                        data={donationDataStackedBars}\n                        margin={{\n                          top: 20, right: 30, left: 20, bottom: 5,\n                        }}\n                        barSize={barSize}\n                      >\n                        <CartesianGrid strokeDasharray=\"3 3\"/>\n                        <Tooltip/>\n                        <Legend/>\n                        <XAxis dataKey=\"dateString\" type=\"category\"/>\n                        <YAxis type=\"number\">\n                          <Label\n                            value=\"Number Of Donations\"\n                            position=\"insideLeft\"\n                            angle={-90}\n                            style={{ textAnchor: 'middle' }}\n                          />\n                        </YAxis>\n                        <Bar dataKey=\"donations\" stroke=\"lightGray\" fill=\"steelblue\"/>\n                      </BarChart>\n                    </ResponsiveContainer>\n                  )\n              )\n          }\n        </Grid>\n        <Grid item xs={12} sm={12} style={{marginTop: \"10px\"}}>\n          { ads.length && fetchAdDetails ? (\n            <TableContainer component={Paper}>\n              <Table className={classes.table} size=\"small\" aria-label=\"simple table\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Start Date</TableCell>\n                    <TableCell>End Date</TableCell>\n                    <TableCell>Spend Range</TableCell>\n                    <TableCell>Impressions Range</TableCell>\n                    <TableCell>Ad Type</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {\n                    ads.slice(adDetailsPage * rowsPerPage, adDetailsPage * rowsPerPage + rowsPerPage).map(ad => (\n                      <TableRow key={ad.id}>\n                        <TableCell component=\"th\" scope=\"row\">\n                          {ad.start_date}\n                        </TableCell>\n                        <TableCell>{ad.end_date}</TableCell>\n                        <TableCell>{ad.spend_range}</TableCell>\n                        <TableCell>{ad.impressions_range}</TableCell>\n                        <TableCell><a href={ad.link} target=\"_blank\" rel=\"noopener noreferrer\">{ad.ad_type}</a></TableCell>\n                      </TableRow>\n                    ))\n                  }\n                </TableBody>\n                <TableFooter>\n                  <TableRow>\n                    <TablePagination\n                      rowsPerPageOptions={[5, 10, 25, 50]}\n                      rowsPerPage={rowsPerPage}\n                      count={ads.length}\n                      page={adDetailsPage}\n                      onChangePage={handleTableChangePage}\n                      onChangeRowsPerPage={handleChangeRowsPerPage}\n                    />\n                  </TableRow>\n                </TableFooter>\n              </Table>\n            </TableContainer>\n          ) : (\n            <Alert severity=\"info\">Check \"Retrieve Ad Details\" to display ad details here.</Alert>\n          )\n          }\n        </Grid>\n        <Grid item xs={12}>\n          <div style={{margin: \"10px 0 10px 0\", textAlign: \"center\"}}>Ad data is from Google's <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://transparencyreport.google.com/political-ads/region/US\">Transparency Report</a>, individual donation data is from <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.fec.gov/data/browse-data/?tab=bulk-data\">fec.gov</a></div>\n        </Grid>\n      </Grid>\n      <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleSnackbarClose}>\n        <Alert onClose={handleSnackbarClose} severity=\"success\">\n          {\n            fetchIndividualDonations ?\n              <div>Retrieved ad campaign and individual donation data for {presidentialCampaign} from {chartTimeFormat(new Date(startDate))} - {chartTimeFormat(new Date(endDate))}\n              </div>\n              :\n              <div>Retrieved ad campaign data for {presidentialCampaign} from {chartTimeFormat(new Date(startDate))} - {chartTimeFormat(new Date(endDate))}\n              </div>\n          }\n        </Alert>\n      </Snackbar>\n    </div>\n  )\n\n};\n\nexport default Dashboard;","import React from 'react';\nimport { Grid, Paper, Typography} from '@material-ui/core';\nimport './App.css'\nimport Dashboard from './Dashboard.js'\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { Timeline } from 'react-twitter-widgets'\nimport campaignDataGif from './campaign-data.gif';\nimport reviewSageGif from './reviewsage.gif';\nimport interactGif from './recording.gif';\n\nconst App = () => {\n  return (\n    <div>\n      <Router basename=\"/\" hashType=\"slash\">\n        <Switch>\n          <Route path=\"/campaign-data-app\">\n            <Dashboard />\n          </Route>\n          <Route path=\"/\">\n            <Grid container component={Paper} elevation={3} className=\"webmdee-card\">\n              <Grid item xs={12}>\n                <p>Hello there!</p>\n                <p>My name's <span>Mark Dhillon</span>, &amp; I'm an engineer.</p>\n                <p>\n                  <a href=\"https://s3-us-west-1.amazonaws.com/webmdee/Mark+Dhillon's+CV+(2019).pdf\">C.V.</a>, <a href=\"https://www.github.com/mdee\">GitHub</a>, &amp; <a href=\"https://www.linkedin.com/in/webmdee\">LinkedIn</a>.\n                </p>\n              </Grid>\n            </Grid>\n            <Grid container component={Paper} elevation={3} className=\"webmdee-card\">\n              <Grid item xs={6} style={{textAlign: \"left\"}}>\n                <Typography variant=\"h5\">\n                  Visualizing 2020 Campaign Data\n                </Typography>\n              </Grid>\n              <Grid item xs={6} style={{textAlign: \"right\"}}>\n                <Typography variant=\"h6\">\n                  02/10/20\n                </Typography>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <p>\n                  As a way to learn React and refamiliarize myself with Django, I made <Link to=\"/campaign-data-app\">this interactive tool</Link>.\n                </p>\n\n                <p>\n                  It visualizes data from Google's <a href=\"https://transparencyreport.google.com/political-ads/region/US\">Transparency Report on Political Advertising</a>, and also data about invididual donations through Q3 2019 to candidates from <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.fec.gov/data/browse-data/?tab=bulk-data\">fec.gov</a>\n                </p>\n\n                <p>\n                  Why did I do this? For starters, I have long been interested in designing interfaces, and building interactive data visualizations. I used to pretty much exclusively write web apps, but for the past ~5 years I've spent most of my time in embedded code land (alongside some Python & MATLAB).</p>\n                <p>\n                  In fact, back when I was keeping up with web apps, there was a spirited debate about which framework to use: Angular, Ember, or React. At the time, I chose Ember.\n                </p>\n                <p>\n                  I think it's safe to say that React won <span role=\"img\" aria-label=\"haha-emoji\">😂</span>.\n                </p>\n\n                <p>\n                  So, this app came out of a desire to learn something new (React) and play around with some interface design and data visualization (which I am always game for). The data required a bit of preprocessing, but it was a fun challenge that gave me some time with the following:\n                </p>\n\n                <ul>\n                  <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.djangoproject.com/\">Django</a></li>\n                  <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.django-rest-framework.org/\">Django REST Framework</a></li>\n                  <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://recharts.org/\">Recharts</a></li>\n                  <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://reactjs.org/\">React</a></li>\n                  <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://material-ui.com/\">Material UI</a></li>\n                  <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://d3js.org/\">d3</a> (scale, scale-chromatic, time, time-format)</li>\n                  <li><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://www.postgresql.org/\">Postgre SQL</a></li>\n                </ul>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <div style={{textAlign: 'center'}}>\n                  <img src={campaignDataGif} style={{display: \"block\", maxWidth: \"95%\", height: \"auto\", margin: \"0 auto\"}} alt=\"Recording of campaign data app interaction\"/>\n                </div>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <div>The tool allows you to explore how many Google ad campaigns each of the 6 major Democratic candidates have been running this election cycle. Each ad has the following attributes:</div>\n                <ul>\n                  <li>A spend range (less than $100, $100 - $1000, etc.)</li>\n                  <li>An impressions range (10K, 1M, etc.)</li>\n                  <li>A date range during which it was served</li>\n                  <li>The type of ad it was (text, image, video)</li>\n                </ul>\n                <p>\n                  The use case that I had in mind was for somebody who is working on one of these campaigns to be able to compare ad strategies to competitors. For funsies, I also added in the ability to see individual donations as reported by the FEC. It's interesting to look at ad surges as well as how each campaign combines the different kinds of ads. Here's one anecdote:\n                </p>\n                <ul>\n                  <li>Joe Biden announced his campaign for president on 4/25/19. The data shows he immediately began running around ~40 ad campaigns concurrently in the early going, almost all of them inexpensive text ads. As the months continued, that number halved until it dropped to 0 on 10/21/19</li>\n                  <li>On 10/24/19, he reversed his earlier position and <a href=\"https://www.cnn.com/2019/10/23/politics/joe-biden-fundraising-super-pac/index.html\">signaled an openness</a> to accepting Super PAC support</li>\n                  <li>On 10/25/19, a Super PAC <a href=\"https://www.cnn.com/2019/10/29/politics/joe-biden-ally-launches-super-pac/index.html\">was formally launched</a> to support him</li>\n                  <li>On 11/07/19, 106(!) ads began running concurrently, all of them video. He wasn't kidding about using Super PAC dollars!</li>\n                </ul>\n                <p>\n                  This was fun for me to build. The backend is deployed on a free Heroku tier, and the front end is served up via Github Pages. Here's the source code for the <a href=\"https://github.com/mdee/bernie_backend\">backend</a> & <a href=\"https://github.com/mdee/webmdee-react\">frontend</a>.\n                </p>\n              </Grid>\n            </Grid>\n            <Grid container component={Paper} elevation={3} className=\"webmdee-card\">\n              <Grid item xs={6}>\n                <div style={{textAlign: \"left\"}}>\n                <Typography variant=\"h5\">ReviewSage</Typography>\n                </div>\n              </Grid>\n              <Grid item xs={6}>\n                <div style={{textAlign: \"right\"}}>\n                  <Typography variant=\"h6\">03/04/15</Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <p><b>TL;DR</b> Raised $$ for app after graduating, <strike>here's a demo</strike>.</p>\n                <div>\n                  In my final semester before completing a Computer Science Master's degree @ UW Madison, I took a\n                  course taught by Professors Remzi Arpaci-Dusseau and Paul Barford on Software\n                  Entrepreneurship. The purpose of the course was to examine processes and case studies to transform ideas into\n                  successful businesses, as well as to create a working prototype of an idea and present it at the\n                  end of the course.<br/>\n                  At the time, I had been focusing on mining information from text (through\n                  work with Professor Michael Gleicher) and trying to visualize the data with <a\n                    href=\"http://d3js.org/\">D3</a>. That work, combined with the class project lead me to create\n                  ReviewSage.<br/>\n                  <p><b>ReviewSage was made to harness the wisdom trapped in Yelp reviews, quickly.</b></p>\n                  I worked on hard on the prototype, and my efforts were rewarded with a rare opportunity: Great\n                  Oaks Venture Capital was willing to provide me with some seed funding to develop ReviewSage into a\n                  business. You can play around with a representative version <strike>here</strike>,\n                  or watch the animation to get the gist.<br/>\n                  The <strike>live app</strike> demonstrates\n                  what ReviewSage was originally intended for: giving consumers quick answers about Yelp reviews.\n                  After submitting a URL, ReviewSage looks for commonly used phrases and shows you the spread of\n                  ratings when people use those phrases.\n                </div>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <div style={{textAlign: 'center'}}>\n                  <img src={reviewSageGif} style={{display: \"block\", maxWidth: \"100%\", height: \"auto\", margin: \"0 auto\"}} alt=\"Recording of ReviewSage app interaction\"/>\n                </div>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <div>\n                  <p>At the time, I was preparing to join a start-up somewhere in CA. Then I got a message from\n                    Professor Barford saying that I could start my own.</p>\n                  <p><b>Getting $$ to start a business around my idea was too tempting to pass up.</b></p>\n                  After incorporating the business, I decided to position it as a B2B app: businesses could use my\n                  software to keep up with their online presence. That seemed like a good idea at the time.\n                  In the end, it didn't work out. However, I'm very pleased with the experience I gained from\n                  taking on such a challenge. I spent 1.5 years chasing this dream, and I think I came out\n                  ahead.\n                  <p>\n                  I was able to take a project that I cared about and raise seed funding to start a business. I\n                  received a lot of great guidance from my Professors, as well as Andy Boszhardt and John\n                    Philosophos from Great Oaks.</p>\n                  I was able to hire an engineer to work with me, and his experience helped him secure a job at a\n                  premier start-up in Madison now. I was able to get the largest restaurant group in Madison to\n                  become a beta tester and eventually a paying customer, and also raised a subsequent round.\n                  ReviewSage even got some <a href=\"http://www.isthmus.com/isthmus/article.php?article=41117\">local press</a>.\n                  <p>Things don't always work out the way you hope. But that's ok; life's too short to dwell on the\n                    past. The future? Now that's exciting.</p>\n                </div>\n              </Grid>\n            </Grid>\n            <Grid container component={Paper} elevation={3} className=\"webmdee-card\">\n              <Grid item xs={6}>\n                <div style={{textAlign: \"left\"}}>\n                  <Typography variant=\"h5\">Expense Logging</Typography>\n                </div>\n              </Grid>\n              <Grid item xs={6}>\n                <div style={{textAlign: \"right\"}}>\n                  <Typography variant=\"h6\">01/15/15</Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <p>\n                  I recently found out about <a href=\"http://interactjs.io/\">interact.js</a> and came away very impressed.\n                  You might even say that my <a href=\"https://www.youtube.com/watch?v=k4t8KisRznQ\">mind was blown</a>.\n                </p>\n                <div>It's a fantastic Javascript libary which takes away <span\n                  style={{textDecoration: \"line-through\"}}>a lot</span> all of the pain for drag-and-drop, resizing, and\n                  multi-touch gestures (all with <a href=\"https://www.youtube.com/watch?v=7COUk5eh6jY\">inertia</a>) for\n                  browsers over IE8. That's huge!\n                </div>\n                <p>\n                  <b>In the endless debate over developing web vs native, <a\n                    href=\"http://interactjs.io/\">interact.js</a> is a panacea for web apps to support gestures and\n                    touch-screen interactions.\n                  </b>\n                </p>\n                <div>\n                  Most of the time when I see a new library spring up, I'll leave it open in a tab or maybe even\n                  bookmark it to check later (if it seems cool, of course). Not this time. This time I wanted to\n                  start using the new hotness right away. I had just come out of my first start-up (relatively) unscathed, and as a consequence of that\n                  experience I was regularly tracking my expenses to see where my money was going.</div>\n                <p>Along the way, I kicked around ideas about what I'd like to see from an expense tracking app, and\n                  once I saw <a href=\"http://interactjs.io/\">interact.js</a>, I decided to make it happen. You can see a\n                  gif of the finished product on this page, or <strike>play around with it\n                    yourself</strike>.</p>\n\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <div style={{textAlign: 'center'}}>\n                  <img src={interactGif} style={{display: \"block\", maxWidth: \"100%\", height: \"auto\", margin: \"0 auto\"}} alt=\"Recording of expense management app interaction\"/>\n                </div>\n              </Grid>\n              <Grid item xs={12} sm={4}>\n                <p>The app uses localStorage to keep track of what you've entered after you close\n                  it, and also supports generating an email of your data in CSV form. That means any data you enter <b>lives\n                    on your device alone</b>, but supports exporting if you feel so inclined.</p>\n                <p>I ended up using a few different gestures from interact.js:</p>\n                <ul style={{fontWeight: 300, margin: \"10px\"}}>\n                  <li><b>Double-tapping</b> to minimize a new expense so it can dragged to the proper account.</li>\n                  <li><b>Dragging</b> a new expense into the proper account.</li>\n                  <li><b>Pressing and holding</b> a new expense to toggle between showing a place to describe the\n                    transaction (e.g. 'Coffee')\n                  </li>\n                </ul>\n                <p><b>I'd recommend interact.js for anybody wanting to integrate gestures for a web-app.</b>\n                </p>\n                <p>The examples and API documentation are all solid; it only took me a couple hours to get the gestures\n                  that I wanted working consistently.</p>\n                <p>Since it's a relatively new library, there's not a whole lot of answers online if something doesn't\n                  work as expected. Sometimes though, it's nice not having Stack Overflow as a crutch.</p>\n              </Grid>\n            </Grid>\n            <Grid container component={Paper} elevation={3} className=\"webmdee-card\">\n              <Grid item xs={6}>\n                <div style={{textAlign: \"left\"}}>\n                  <Typography variant=\"h5\">Gary Busey Clips + Twitter</Typography>\n                </div>\n              </Grid>\n              <Grid item xs={6}>\n                <div style={{textAlign: \"right\"}}>\n                  <Typography variant=\"h6\">01/13/15</Typography>\n                </div>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <p>\n                  Gary Busey is an <a href=\"http://en.wikipedia.org/wiki/Gary_Busey#Awards_and_nominations\">accomplished actor</a>, and also seems to be a <a href=\"https://www.youtube.com/watch?v=TkYt0unokRM\">funny guy</a>.\n                  I haven't kept up with any of his later career, beyond knowing that he's done some reality TV shows and sells \"<a href=\"http://garybusey.com/gary_busey_buseyisms.html\">Busey-isms</a>\" online.\n                </p>\n                <p>\n                  I have, however, seen him act in quite a few movies, and I'm pretty sure that I enjoyed his roles. Point Break, Black Sheep…those are all good in my book. His recent TV commericals for Amazon also make me laugh a lot.</p>\n                <p>One day, I decided to look up clips of his movie roles on YouTube. It turns out that there are a lot of them, and the prevailing reason for that seems to be that the uploaders find these clips hilarious, weird, or both.</p>\n                <p><b>So there are a bunch of goofy clips available on the internet, and Twitter is a thing so...yes, that's right. Let's make a Twitter bot to spread the Gospel of Gary (Busey).</b></p>\n                <p><a href=\"http://twitter.com/buseybot\">BuseyBot</a> is a Django app using <a href=\"https://github.com/tweepy/tweepy\">tweepy</a>. At different times of day, it looks for folks talking about Gary Busey and sends one of them a juicy Busey movie clip.</p>\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <div>\n                  <Timeline\n                    dataSource={{\n                      sourceType: 'profile',\n                      screenName: 'buseybot'\n                    }}\n                    options={{\n                      username: 'UniversalSerialBusey',\n                      height: '450'\n                    }}\n                  />\n                </div>\n              </Grid>\n            </Grid>\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n};\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n//\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}